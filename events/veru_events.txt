namespace = veru

# Find Subjects
country_event = {
	id = veru.1000
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		set_variable = { which = veru_total_subjects value = 0 }

		# Count how many valid Subject States there are
		every_subject = {
			limit = {
				NOR = {
					is_subject_type = devstate
					is_subject_type = satrapy
				}
			}
			set_country_flag = subject_country
			overlord = { change_variable = { which = veru_total_subjects value = 1 } }
		}

		if = {
			limit = { check_variable = { which = veru_total_subjects value >= 1 } }
			random_subject = {
				limit = { has_country_flag = subject_country }
				remove_country_flag = subject_country
				save_event_target_as = subject_1
			}
		}
		if = {
			limit = { check_variable = { which = veru_total_subjects value >= 2 } }
			random_subject = {
				limit = { has_country_flag = subject_country }
				remove_country_flag = subject_country
				save_event_target_as = subject_2
			}
		}
		if = {
			limit = { check_variable = { which = veru_total_subjects value >= 3 } }
			random_subject = {
				limit = { has_country_flag = subject_country }
				remove_country_flag = subject_country
				save_event_target_as = subject_3
			}
		}
		if = {
			limit = { check_variable = { which = veru_total_subjects value >= 4 } }
			random_subject = {
				limit = { has_country_flag = subject_country }
				remove_country_flag = subject_country
				save_event_target_as = subject_4
			}
		}
		if = {
			limit = { check_variable = { which = veru_total_subjects value >= 5 } }
			random_subject = {
				limit = { has_country_flag = subject_country }
				remove_country_flag = subject_country
				save_event_target_as = subject_5
			}
		}
		if = {
			limit = { check_variable = { which = veru_total_subjects value >= 6 } }
			random_subject = {
				limit = { has_country_flag = subject_country }
				remove_country_flag = subject_country
				save_event_target_as = subject_6
			}
		}
		if = {
			limit = { check_variable = { which = veru_total_subjects value >= 7 } }
			random_subject = {
				limit = { has_country_flag = subject_country }
				remove_country_flag = subject_country
				save_event_target_as = subject_7
			}
		}
		if = {
			limit = { check_variable = { which = veru_total_subjects value >= 8 } }
			random_subject = {
				limit = { has_country_flag = subject_country }
				remove_country_flag = subject_country
				save_event_target_as = subject_8
			}
		}
		if = {
			limit = { check_variable = { which = veru_total_subjects value >= 9 } }
			random_subject = {
				limit = { has_country_flag = subject_country }
				remove_country_flag = subject_country
				save_event_target_as = subject_9
			}
		}
		if = {
			limit = { check_variable = { which = veru_total_subjects value >= 10 } }
			random_subject = {
				limit = { has_country_flag = subject_country }
				remove_country_flag = subject_country
				save_event_target_as = subject_10
			}
		}

		country_event = { id = veru.2000 }
	}
}

# List Subjects
country_event = {
	id = veru.2000
	title = veru.2000.name
	desc = {
		trigger = { check_variable = { which = veru_total_subjects value > 0 } }
		text = veru.2000.desc
	}
	desc = {
		trigger = { check_variable = { which = veru_total_subjects value = 0 } }
		text = veru.2000.desc.fail
	}
	picture = GFX_evt_board_meeting
	show_sound = event_laboratory_sound
	location = ROOT

	is_triggered_only = yes

	# No valid target
	option = {
		name = veru.2000.fail
		trigger = { check_variable = { which = veru_total_subjects value = 0 } }
	}

	option = {
		name = veru.2000.back
		trigger = { check_variable = { which = veru_total_subjects value > 0 } }
	}

	# Now we show a list of the subject states to the player
	option = {
		name = veru.2000.subject_1
		trigger = { check_variable = { which = veru_total_subjects value >= 1 } }
		hidden_effect = {
			event_target:subject_1 = {
				save_event_target_as = chosen_subject
			}
			country_event = { id = veru.2050 }
		}
	}
	option = {
		name = veru.2000.subject_2
		trigger = { check_variable = { which = veru_total_subjects value >= 2 } }
		hidden_effect = {
			event_target:subject_2 = {
				save_event_target_as = chosen_subject
			}
			country_event = { id = veru.2050 }
		}
	}
	option = {
		name = veru.2000.subject_3
		trigger = { check_variable = { which = veru_total_subjects value >= 3 } }
		hidden_effect = {
			event_target:subject_3 = {
				save_event_target_as = chosen_subject
			}
			country_event = { id = veru.2050 }
		}
	}
	option = {
		name = veru.2000.subject_4
		trigger = { check_variable = { which = veru_total_subjects value >= 4 } }
		hidden_effect = {
			event_target:subject_4 = {
				save_event_target_as = chosen_subject
			}
			country_event = { id = veru.2050 }
		}
	}
	option = {
		name = veru.2000.subject_5
		trigger = { check_variable = { which = veru_total_subjects value >= 5 } }
		hidden_effect = {
			event_target:subject_5 = {
				save_event_target_as = chosen_subject
			}
			country_event = { id = veru.2050 }
		}
	}
	option = {
		name = veru.2000.subject_6
		trigger = { check_variable = { which = veru_total_subjects value >= 6 } }
		hidden_effect = {
			event_target:subject_6 = {
				save_event_target_as = chosen_subject
			}
			country_event = { id = veru.2050 }
		}
	}
	option = {
		name = veru.2000.subject_7
		trigger = { check_variable = { which = veru_total_subjects value >= 7 } }
		hidden_effect = {
			event_target:subject_7 = {
				save_event_target_as = chosen_subject
			}
			country_event = { id = veru.2050 }
		}
	}
	option = {
		name = veru.2000.subject_8
		trigger = { check_variable = { which = veru_total_subjects value >= 8 } }
		hidden_effect = {
			event_target:subject_8 = {
				save_event_target_as = chosen_subject
			}
			country_event = { id = veru.2050 }
		}
	}
	option = {
		name = veru.2000.subject_9
		trigger = { check_variable = { which = veru_total_subjects value >= 9 } }
		hidden_effect = {
			event_target:subject_9 = {
				save_event_target_as = chosen_subject
			}
			country_event = { id = veru.2050 }
		}
	}
	option = {
		name = veru.2000.subject_10
		trigger = { check_variable = { which = veru_total_subjects value >= 10 } }
		hidden_effect = {
			event_target:subject_10 = {
				save_event_target_as = chosen_subject
			}
			country_event = { id = veru.2050 }
		}
	}
}

# Pick Action: Changing Name, Subject Type, Changing Government Structure, Installing New Leader, Give Technology
country_event = {
	id = veru.2050
	title = veru.2050.name
	location = event_target:chosen_subject
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:chosen_subject.ruler
		planet_background = event_target:chosen_subject
		graphical_culture = event_target:chosen_subject
		city_level = event_target:chosen_subject.capital_scope
		room = event_target:chosen_subject.ruler
	}

	desc = {
		text = veru.2050.loyal.desc
		trigger = {
			event_target:chosen_subject = { is_loyal_to = prev }
		}
	}

	desc = {
		text = veru.2050.disloyal.desc
		trigger = {
			event_target:chosen_subject = { is_disloyal_to = prev }
		}
	}

	# Back
	option = { name = veru.2000.back }

	# Alter Subject Type
	option = {
		name = veru.2050.type
		hidden_effect = {
			if = {
				limit = {
					is_megacorp = yes
				}
				country_event = { id = veru.3100 }
			}
			else = {
				country_event = { id = veru.3000 }
			}
		}
	}

	# Alter Government Type
	option = {
		name = veru.2050.gov
		hidden_effect = {
			country_event = { id = veru.4000 }
		}
	}

	# Install New Leader
	option = {
		name = veru.2050.leader
		hidden_effect = {
			country_event = { id = veru.5000 }
		}
	}

	# Give All Technologies
	option = {
		name = veru.2050.tech
		custom_tooltip = veru.2050.tech.tooltip
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_200
				has_resource = { type = influence amount >= 200 }
			}
		}
		add_resource = { influence = -200 }
		hidden_effect = {
			event_target:chosen_subject = {
				copy_techs_from = { target = root }
			}
		}
	}

	# Alter Subject Name
	option = {
		name = veru.2050.name_change
		custom_tooltip = veru.2050.name_change.tooltip
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru
				has_resource = { type = influence amount >= 100 }
			}
		}
		add_resource = { influence = -100 }
		hidden_effect = {
			event_target:chosen_subject = {
				set_name = prev.capital_scope.solar_system
			}
			get_intervention_effect = yes
		}
	}
}

################

# Change Subject Type - Normal Empires
country_event = {
	id = veru.3000
	title = veru.3000.name
	location = event_target:chosen_subject
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:chosen_subject.ruler
		planet_background = event_target:chosen_subject
		graphical_culture = event_target:chosen_subject
		city_level = event_target:chosen_subject.capital_scope
		room = event_target:chosen_subject.ruler
	}

	desc = {
		text = veru.3000.loyal.desc
		trigger = {
			event_target:chosen_subject = { is_loyal_to = prev }
		}
	}

	desc = {
		text = veru.3000.disloyal.desc
		trigger = {
			event_target:chosen_subject = { is_disloyal_to = prev }
		}
	}

	# Back
	option = { name = veru.back }

	# Transform into Puppet State (Authoritarian)
	option = {
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru
				has_resource = { type = influence amount >= 100 }
			}
		}
		add_resource = { influence = -100 }
		name = veru.3000.puppet
		custom_tooltip = ver.100.puppet.tooltip
		trigger = {
			OR = {
				is_authoritarian = yes
				has_valid_civic = civic_feudal_realm
			}
		}
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				is_authoritarian = no
			}
			modifier = {
				factor = 2
				has_ethic = ethic_fanatic_authoritarian
			}
			modifier = {
				factor = 3
				has_valid_civic = civic_shadow_council
			}
			modifier = {
				factor = 0.5
				is_xenophile = yes
			}
		}
		hidden_effect = {
			log = "veru.3000: Setting [ROOT.GetName] to Puppet State"
			event_target:chosen_subject = {
				set_subject_of = {
					who = ROOT
					subject_type = verpuppet
				}
				add_modifier = { modifier = ver_puppet_state days = -1 }
			}
			get_intervention_effect = yes
		}
	}

	# Transform into Sister Republic (Egalitarian)
	option = {
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru
				has_resource = { type = influence amount >= 100 }
			}
		}
		add_resource = { influence = -100 }
		name = veru.3000.sister
		custom_tooltip = ver.100.sister.tooltip
		trigger = {
			OR = {
				is_egalitarian = yes
				has_valid_civic = civic_feudal_realm
			}
			event_target:chosen_subject = {
				NOT = {
					has_ethic = ethic_gestalt_consciousness
				}
			}
		}
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				is_egalitarian = no
			}
			modifier = {
				factor = 2
				has_ethic = ethic_fanatic_egalitarian
			}
			modifier = {
				factor = 3
				has_valid_civic = civic_beacon_of_liberty
			}
			modifier = {
				factor = 10
				has_ai_personality = democratic_crusaders
			}
			modifier = {
				factor = 0.5
				is_xenophobe = yes
			}
		}
		hidden_effect = {
			log = "veru.3000: Setting [ROOT.GetName] to Sister Republic"
			event_target:chosen_subject = {
				set_subject_of = {
					who = ROOT
					subject_type = versister
				}
				if = {
					limit = { has_ethic = ethic_fanatic_authoritarian }
					change_government = {
						authority = auth_dictatorial
						civics = {
							civic = civic_staged_elections
							civic = civic_police_state
						}
					}
				}
				else_if = {
					limit = { has_ethic = ethic_authoritarian }
					change_government = {
						authority = auth_oligarchic
						civics = {
							civic = civic_staged_elections
							civic = random
						}
					}
				}
				else_if = {
					limit = {
						is_authoritarian = no
						is_democracy = no
					}
					if = {
						limit = {
							has_global_flag = gf_moreauthorities_activated
							has_global_flag = cultural_overhaul_active
						}
						random_list = {
							33 = {
								change_government = {
									authority = auth_democratic
									remove_invalid_civics = yes
								}
							}
							33 = {
								change_government = {
									authority = auth_direct_democratic
									remove_invalid_civics = yes
								}
							}
							33 = {
								change_government = {
									authority = auth_strict_democratic
									remove_invalid_civics = yes
								}
							}
						}
					}
					else_if = {
						limit = {
							has_global_flag = gf_moreauthorities_activated
						}
						random_list = {
							50 = {
								change_government = {
									authority = auth_democratic
									remove_invalid_civics = yes
								}
							}
							50 = {
								change_government = {
									authority = auth_strict_democratic
									remove_invalid_civics = yes
								}
							}
						}
					}
					else_if = {
						limit = {
							has_global_flag = cultural_overhaul_active
						}
						random_list = {
							50 = {
								change_government = {
									authority = auth_democratic
									remove_invalid_civics = yes
								}
							}
							50 = {
								change_government = {
									authority = auth_direct_democratic
									remove_invalid_civics = yes
								}
							}
						}
					}
					else = {
						change_government = {
							authority = auth_democratic
							remove_invalid_civics = yes
						}
					}
				}
			}
			get_intervention_effect = yes
		}
	}

	# Transform into Jr. Partner (Materialist)
	option = {
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru
				has_resource = { type = influence amount >= 100 }
			}
		}
		add_resource = { influence = -100 }
		name = veru.3000.jrpartner
		custom_tooltip = ver.100.jrpartner.tooltip
		trigger = {
			OR = {
				is_materialist = yes
				has_valid_civic = civic_feudal_realm
			}
		}
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				is_materialist = no
			}
			modifier = {
				factor = 2
				has_ethic = ethic_fanatic_materialist
			}
			modifier = {
				factor = 3
				has_valid_civic = civic_technocracy
			}
		}
		hidden_effect = {
			log = "veru.3000: Setting [ROOT.GetName] to Jr. Partner"
			event_target:chosen_subject = {
				set_subject_of = {
					who = ROOT
					subject_type = verjrpartner
				}
			}
			get_intervention_effect = yes
		}
	}

	# Transform into Foederatus (Militarist)
	option = {
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru
				has_resource = { type = influence amount >= 100 }
			}
		}
		add_resource = { influence = -100 }
		name = veru.3000.foederatus
		custom_tooltip = ver.100.foederatus.tooltip
		trigger = {
			OR = {
				is_militarist = yes
				has_valid_civic = civic_feudal_realm
			}
			event_target:chosen_subject = {
				is_pacifist = no
			}
		}
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				is_militarist = no
			}
			modifier = {
				factor = 2
				has_ethic = ethic_fanatic_militarist
			}
			modifier = {
				factor = 3
				has_valid_civic = civic_warrior_culture
			}
		}
		hidden_effect = {
			log = "veru.3000: Setting [ROOT.GetName] to Foederatus"
			event_target:chosen_subject = {
				set_subject_of = {
					who = ROOT
					subject_type = verfoederatus
				}
				add_modifier = { modifier = ver_military_subsidies days = -1 }
			}
			get_intervention_effect = yes
		}
	}

	# Transform into Autonomous Region (Pacifist)
	option = {
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru
				has_resource = { type = influence amount >= 100 }
			}
		}
		add_resource = { influence = -100 }
		name = veru.3000.autonomous
		custom_tooltip = ver.100.autonomous.tooltip
		trigger = {
			OR = {
				is_pacifist = yes
				has_valid_civic = civic_machine_servitor
				has_valid_civic = civic_feudal_realm
			}
		}
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOR = {
					is_pacifist = yes
					has_valid_civic = civic_machine_servitor
				}
			}
			modifier = {
				factor = 2
				has_ethic = ethic_fanatic_pacifist
			}
			modifier = {
				factor = 3
				has_valid_civic = civic_agrarian_idyll
			}
		}
		hidden_effect = {
			log = "veru.3000: Setting [ROOT.GetName] to Autonomous Region"
			event_target:chosen_subject = {
				set_subject_of = {
					who = ROOT
					subject_type = verautonomous
				}
				add_modifier = { modifier = ver_demilitarized days = -1 }
			}
			get_intervention_effect = yes
		}
	}

	# Transform into Disciple (Spiritualist)
	option = {
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru
				has_resource = { type = influence amount >= 100 }
			}
		}
		add_resource = { influence = -100 }
		name = veru.3000.disciple
		custom_tooltip = ver.100.disciple.tooltip
		trigger = {
			is_spiritualist = yes
		}
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				is_spiritualist = no
			}
			modifier = {
				factor = 2
				has_ethic = ethic_fanatic_spiritualist
			}
			modifier = {
				factor = 3
				has_valid_civic = civic_exalted_priesthood
			}
			modifier = {
				factor = 10
				has_ai_personality = evangelising_zealots
			}
		}
		hidden_effect = {
			log = "veru.3000: Setting [ROOT.GetName] to Disciple"
			event_target:chosen_subject = {
				set_subject_of = {
					who = ROOT
					subject_type = verdisciple
				}
				add_modifier = { modifier = ver_overlord_indoctrination days = -1 }
			}
			get_intervention_effect = yes
		}
	}

	# Transform into Beneficiary (Xenophile)
	option = {
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru
				has_resource = { type = influence amount >= 100 }
			}
		}
		add_resource = { influence = -100 }
		name = veru.3000.beneficiary
		custom_tooltip = ver.100.beneficiary.tooltip
		trigger = {
			OR = {
				is_xenophile = yes
				has_valid_civic = civic_feudal_realm
			}
		}
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				is_xenophile = no
			}
			modifier = {
				factor = 2
				has_ethic = ethic_fanatic_xenophile
			}
			modifier = {
				factor = 3
				has_valid_civic = civic_free_haven
			}
		}
		hidden_effect = {
			event_target:chosen_subject = {
				set_subject_of = {
					who = ROOT
					subject_type = verbeneficiary
				}
			}
			get_intervention_effect = yes
		}
	}

	# Transform into Serf (Xenophobe)
	option = {
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru
				has_resource = { type = influence amount >= 100 }
			}
		}
		add_resource = { influence = -100 }
		name = veru.3000.serf
		custom_tooltip = ver.100.serf.tooltip
		trigger = {
			OR = {
				is_xenophobe = yes
				has_valid_civic = civic_feudal_realm
			}
		}
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				is_xenophobe = no
			}
			modifier = {
				factor = 2
				has_ethic = ethic_fanatic_xenophobe
			}
			modifier = {
				factor = 3
				has_valid_civic = civic_slaver_guilds
			}
		}
		hidden_effect = {
			event_target:chosen_subject = {
				set_subject_of = {
					who = ROOT
					subject_type = verserf
				}
			}
			get_intervention_effect = yes
		}
	}

	# Transform into Appendage (Hive Mind)
	option = {
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru
				has_resource = { type = influence amount >= 100 }
			}
		}
		add_resource = { influence = -100 }
		name = veru.3000.appendage
		custom_tooltip = ver.100.appendage.tooltip
		trigger = { has_authority = auth_hive_mind }
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = { has_authority = auth_hive_mind }
			}
		}
		hidden_effect = {
			event_target:chosen_subject = {
				set_subject_of = {
					who = ROOT
					subject_type = verappendage
				}
			}
		}
	}

	# Transform into Organic Auxiliary (Machine Intelligence)
	option = {
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru
				has_resource = { type = influence amount >= 100 }
			}
		}
		add_resource = { influence = -100 }
		name = veru.3000.organic
		custom_tooltip = ver.100.organic.tooltip
		trigger = {
			has_authority = auth_machine_intelligence
			NOT = { has_valid_civic = civic_machine_servitor }
			event_target:chosen_subject = { NOT = { has_authority = auth_machine_intelligence } }
		}
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = {
					has_authority = auth_machine_intelligence
					NOT = { has_valid_civic = civic_machine_servitor }
				}
			}
		}
		hidden_effect = {
			event_target:chosen_subject = {
				set_subject_of = {
					who = ROOT
					subject_type = verorganic
				}
			}
		}
	}

	# Transform into Parallel Processor (Machine Intelligence)
	option = {
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru
				has_resource = { type = influence amount >= 100 }
			}
		}
		add_resource = { influence = -100 }
		name = veru.3000.parallel
		custom_tooltip = ver.100.parallel.tooltip
		trigger = {
			has_authority = auth_machine_intelligence
			event_target:chosen_subject = { has_authority = auth_machine_intelligence }
		}
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = {
					has_authority = auth_machine_intelligence
					event_target:chosen_subject = {has_authority = auth_machine_intelligence }
				}
			}
		}
		hidden_effect = {
			event_target:chosen_subject = {
				set_subject_of = {
					who = ROOT
					subject_type = verparallel
				}
			}
			country_event = { id = vermain.13 }
		}
	}

	# Transform into Blood Tributary (Slaver or Barbaric)
	option = {
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru
				has_resource = { type = influence amount >= 100 }
			}
		}
		add_resource = { influence = -100 }
		name = veru.3000.blood
		custom_tooltip = ver.100.blood.tooltip
		trigger = {
			OR = {
				has_valid_civic = civic_barbaric_despoilers
				has_valid_civic = civic_slaver_guilds
			}
			NOT = { any_subject = { is_subject_type = verblood } }
			event_target:chosen_subject = { NOT = { has_authority = auth_machine_intelligence } }
		}
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOR = {
					has_valid_civic = civic_barbaric_despoilers
					has_valid_civic = civic_slaver_guilds
				}
			}
		}
		hidden_effect = {
			event_target:chosen_subject = {
				set_subject_of = {
					who = ROOT
					subject_type = verblood
				}
			}
			country_event = { id = ver.40 }
			get_intervention_effect = yes
		}
	}

	# Transform into Member State [Decentralized Empires]
	option = {
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru
				has_resource = { type = influence amount >= 100 }
			}
		}
		add_resource = { influence = -100 }
		name = veru.3000.member_state
		custom_tooltip = SUBJECT_DESC_member_state
		trigger = {
			has_global_flag = gf_regentmaker_active
			has_ascension_perk = ap_decentralization
			event_target:chosen_subject = { NOT = { has_authority = auth_machine_intelligence } }
			OR = {
				has_valid_civic = civic_feudal_realm
				is_egalitarian = yes
				is_pacifist = yes
			}
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				NOR = {
					has_valid_civic = civic_barbaric_despoilers
					has_valid_civic = civic_slaver_guilds
				}
			}
		}
		hidden_effect = {
			event_target:chosen_subject = {
				set_subject_of = {
					who = ROOT
					subject_type = member_state
				}
			}
			get_intervention_effect = yes
		}
	}

	# Transform into Duchy (z Expanded Traits, Civics, Pops, and More)
	option = {
		name = SUBJECT_duchy
		custom_tooltip = SUBJECT_DESC_duchy
		trigger = {
			has_global_flag = expanded_pops_active
			has_valid_civic = civic_feudal_realm
		}
		ai_chance = {
			factor = 10
		}
		hidden_effect = {
			from = {
				set_subject_of = {
					who = ROOT
					subject_type = duchy
				}
			}
		}
	}

	# Transform into Foundry Colony [Government Variety Pack]
	option = {
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru
				has_resource = { type = influence amount >= 100 }
			}
			NOT = { any_subject = { is_subject_type = lrsk_gvp_vassal_foundry } }
		}
		add_resource = { influence = -100 }
		name = SUBJECT_lrsk_gvp_vassal_foundry
		custom_tooltip = SUBJECT_DESC_lrsk_gvp_vassal_foundry
		trigger = {
			has_global_flag = lrsk_government_variety_pack_mod_active
			has_valid_civic = lrsk_gov_var_civic_imperial_economy
			event_target:chosen_subject = { NOT = { has_authority = auth_machine_intelligence } }
		}
		hidden_effect = {
			event_target:chosen_subject = {
				set_subject_of = {
					who = ROOT
					subject_type = lrsk_gvp_vassal_foundry
				}
			}
			get_intervention_effect = yes
		}
	}

	# Transform into Market Colony [Government Variety Pack]
	option = {
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru
				has_resource = { type = influence amount >= 100 }
			}
			NOT = { any_subject = { is_subject_type = lrsk_gvp_vassal_market } }
		}
		add_resource = { influence = -100 }
		name = SUBJECT_lrsk_gvp_vassal_market
		custom_tooltip = SUBJECT_DESC_lrsk_gvp_vassal_market
		trigger = {
			has_global_flag = lrsk_government_variety_pack_mod_active
			has_valid_civic = lrsk_gov_var_civic_imperial_economy
			event_target:chosen_subject = { NOT = { has_authority = auth_machine_intelligence } }
		}
		hidden_effect = {
			event_target:chosen_subject = {
				set_subject_of = {
					who = ROOT
					subject_type = lrsk_gvp_vassal_market
				}
			}
			get_intervention_effect = yes
		}
	}

	# Transform into Trophy Colony [Government Variety Pack]
	option = {
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru
				has_resource = { type = influence amount >= 100 }
			}
			NOT = { any_subject = { is_subject_type = lrsk_gvp_vassal_trophy } }
		}
		add_resource = { influence = -100 }
		name = SUBJECT_lrsk_gvp_vassal_trophy
		custom_tooltip = SUBJECT_DESC_lrsk_gvp_vassal_trophy
		trigger = {
			has_global_flag = lrsk_government_variety_pack_mod_active
			has_valid_civic = lrsk_gov_var_civic_imperial_economy
			event_target:chosen_subject = { NOT = { has_authority = auth_machine_intelligence } }
		}
		hidden_effect = {
			event_target:chosen_subject = {
				set_subject_of = {
					who = ROOT
					subject_type = lrsk_gvp_vassal_trophy
				}
			}
			get_intervention_effect = yes
		}
	}

	# Transform into Prospecting Colony [Government Variety Pack]
	option = {
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru
				has_resource = { type = influence amount >= 100 }
			}
			NOT = { any_subject = { is_subject_type = lrsk_gvp_vassal_prospector } }
		}
		add_resource = { influence = -100 }
		name = SUBJECT_lrsk_gvp_vassal_prospector
		custom_tooltip = SUBJECT_DESC_lrsk_gvp_vassal_prospector
		trigger = {
			has_global_flag = lrsk_government_variety_pack_mod_active
			has_valid_civic = lrsk_gov_var_civic_imperial_economy
			event_target:chosen_subject = { NOT = { has_authority = auth_machine_intelligence } }
		}
		hidden_effect = {
			event_target:chosen_subject = {
				set_subject_of = {
					who = ROOT
					subject_type = lrsk_gvp_vassal_prospector
				}
			}
			get_intervention_effect = yes
		}
	}

	# Set as vanilla tributary
	option = {
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru
				has_resource = { type = influence amount >= 100 }
			}
		}
		add_resource = { influence = -100 }
		name = veru.3000.vertributary
		custom_tooltip = SUBJECT_DESC_vertributary

		hidden_effect = {
			log = "veru.3000: Setting as [ROOT.GetName] as Tributary"
			event_target:chosen_subject = {
				set_subject_of = {
					who = root
					subject_type = vertributary
				}
			}
			get_intervention_effect = yes
		}
	}

	# Set as vanilla Vassal
	option = {
		name = veru.3000.vervassal
		custom_tooltip = SUBJECT_DESC_vervassal

		hidden_effect = {
			log = "veru.3000: Leaving [ROOT.GetName] as Vassal"
			event_target:chosen_subject = {
				set_subject_of = {
					who = root
					subject_type = vervassal
				}
			}
			get_intervention_effect = yes
		}
	}
}

# Change Subject Type - Megacorps
country_event = {
	id = veru.3100
	title = veru.3000.name
	location = event_target:chosen_subject
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:chosen_subject.ruler
		planet_background = event_target:chosen_subject
		graphical_culture = event_target:chosen_subject
		city_level = event_target:chosen_subject.capital_scope
		room = event_target:chosen_subject.ruler
	}

	desc = {
		text = veru.3000.loyal.desc
		trigger = {
			event_target:chosen_subject = { is_loyal_to = prev }
		}
	}

	desc = {
		text = veru.3000.disloyal.desc
		trigger = {
			event_target:chosen_subject = { is_disloyal_to = prev }
		}
	}

	# Back
	option = { name = veru.back }

	# Transform into Devotee (Brand Loyalty)
	option = {
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru
				has_resource = { type = influence amount >= 100 }
			}
		}
		add_resource = { influence = -100 }
		name = veru.3100.devotee
		custom_tooltip = ver.101.devotee.tooltip
		trigger = {
			OR = {
				has_valid_civic = civic_brand_loyalty
				has_valid_civic = civic_franchising
			}
		}
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = { has_valid_civic = civic_brand_loyalty }
			}
		}
		hidden_effect = {
			event_target:chosen_subject = {
				set_subject_of = {
					who = ROOT
					subject_type = verdevotee
				}
			}
			get_intervention_effect = yes
		}
	}

	# Transform into Kobun (Criminal Heritage)
	option = {
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru
				has_resource = { type = influence amount >= 100 }
			}
		}
		add_resource = { influence = -100 }
		name = veru.3100.kobun
		custom_tooltip = ver.101.kobun.tooltip
		trigger = {
			OR = {
				has_valid_civic = civic_criminal_heritage
				has_valid_civic = civic_franchising
			}
		}
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = { has_valid_civic = civic_criminal_heritage }
			}
		}
		hidden_effect = {
			event_target:chosen_subject = {
				set_subject_of = {
					who = ROOT
					subject_type = verkobun
				}
			}
			add_modifier = { modifier = ver_kobun_malus days = -1 }
			get_intervention_effect = yes
		}
	}

	# Transform into Supplier (Free Traders)
	option = {
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru
				has_resource = { type = influence amount >= 100 }
			}
		}
		add_resource = { influence = -100 }
		name = veru.3100.supplier
		custom_tooltip = ver.101.supplier.tooltip
		trigger = {
			OR = {
				has_valid_civic = civic_free_traders
				has_valid_civic = civic_franchising
			}
		}
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = { has_valid_civic = civic_free_traders }
			}
		}
		hidden_effect = {
			event_target:chosen_subject = {
				set_subject_of = {
					who = ROOT
					subject_type = versupplier
				}
			}
			get_intervention_effect = yes
		}
	}

	# Transform into Worshipper (Gospel of the Masses)
	option = {
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru
				has_resource = { type = influence amount >= 100 }
			}
		}
		add_resource = { influence = -100 }
		name = veru.3100.worshipper
		custom_tooltip = ver.101.worshipper.tooltip
		trigger = {
			OR = {
				has_valid_civic = civic_gospel_of_the_masses
				has_valid_civic = civic_franchising
			}
		}
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = { has_valid_civic = civic_gospel_of_the_masses }
			}
		}
		hidden_effect = {
			event_target:chosen_subject = {
				set_subject_of = {
					who = ROOT
					subject_type = verworshipper
				}
				add_modifier = { modifier = ver_overlord_indoctrination days = -1 }
			}
			get_intervention_effect = yes
		}
	}

	# Transform into Debtor (Indentured Assets)
	option = {
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru
				has_resource = { type = influence amount >= 100 }
			}
		}
		add_resource = { influence = -100 }
		name = veru.3100.debtor
		custom_tooltip = ver.101.debtor.tooltip
		trigger = {
			OR = {
				has_valid_civic = civic_indentured_assets
				AND = {
					has_valid_civic = civic_franchising
					has_policy_flag = slavery_allowed
				}
			}
		}
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = { has_valid_civic = civic_indentured_assets }
			}
		}
		hidden_effect = {
			event_target:chosen_subject = {
				set_subject_of = {
					who = ROOT
					subject_type = verdebtor
				}
			}
			country_event = { id = ver.40 }
			get_intervention_effect = yes
		}
	}

	# Transform into subscriber (Media Conglomerate)
	option = {
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru
				has_resource = { type = influence amount >= 100 }
			}
		}
		add_resource = { influence = -100 }
		name = veru.3100.subscriber
		custom_tooltip = ver.101.subscriber.tooltip
		trigger = {
			OR = {
				has_valid_civic = civic_media_conglomerate
				has_valid_civic = civic_franchising
			}
		}
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = { has_valid_civic = civic_media_conglomerate }
			}
		}
		hidden_effect = {
			event_target:chosen_subject = {
				set_subject_of = {
					who = ROOT
					subject_type = versubscriber
				}
			}
			get_intervention_effect = yes
		}
	}

	# Transform into Arms Dealer (Private Military Companies or Naval Contractors)
	option = {
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru
				has_resource = { type = influence amount >= 100 }
			}
		}
		add_resource = { influence = -100 }
		name = veru.3100.armsdealer
		custom_tooltip = ver.101.armsdealer.tooltip
		trigger = {
			OR = {
				has_valid_civic = civic_private_military_companies
				has_valid_civic = civic_naval_contractors
				has_valid_civic = civic_franchising
			}
			event_target:chosen_subject = {
				is_pacifist = no
			}
		}
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOR = {
					has_valid_civic = civic_private_military_companies
					has_valid_civic = civic_naval_contractors
				}
			}
		}
		hidden_effect = {
			event_target:chosen_subject = {
				set_subject_of = {
					who = ROOT
					subject_type = verarmsdealer
				}
				add_modifier = { modifier = ver_military_subsidies days = -1 }
			}
			get_intervention_effect = yes
		}
	}

	# Transform into Subcontractor (Private Prospectors)
	option = {
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru
				has_resource = { type = influence amount >= 100 }
			}
		}
		add_resource = { influence = -100 }
		name = veru.3100.subcontractor
		custom_tooltip = ver.101.subcontractor.tooltip
		trigger = {
			OR = {
				has_valid_civic = civic_private_prospectors
				has_valid_civic = civic_franchising
			}
		}
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = { has_valid_civic = civic_private_prospectors }
			}
		}
		hidden_effect = {
			event_target:chosen_subject = {
				set_subject_of = {
					who = ROOT
					subject_type = versubcontractor
				}
			}
			get_intervention_effect = yes
		}
	}

	# Transform into Dependency (Trading Posts or Ruthless Competition)
	option = {
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru
				has_resource = { type = influence amount >= 100 }
			}
		}
		add_resource = { influence = -100 }
		name = veru.3100.dependency
		custom_tooltip = ver.101.dependency.tooltip
		trigger = {
			OR = {
				has_valid_civic = civic_trading_posts
				has_valid_civic = civic_ruthless_competition
				has_valid_civic = civic_franchising
			}
		}
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOR = {
					has_valid_civic = civic_trading_posts
					has_valid_civic = civic_ruthless_competition
				}
			}
		}
		hidden_effect = {
			event_target:chosen_subject = {
				set_subject_of = {
					who = ROOT
					subject_type = verdependency
				}
			}
			get_intervention_effect = yes
		}
	}

	# Set as Subsidiary
	option = {
		name = veru.3100.subsidiary
		custom_tooltip = ver.101.subsidiary.tooltip

		hidden_effect = {
			log = "veru.3100: Leaving [ROOT.GetName] as Subsidiary"
			event_target:chosen_subject = {
				set_subject_of = {
					who = root
					subject_type = versubsidiary
				}
			}
			get_intervention_effect = yes
		}
	}
}

################

# Change Government Structure
country_event = {
	id = veru.4000
	title = veru.3000.name
	location = event_target:chosen_subject
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:chosen_subject.ruler
		planet_background = event_target:chosen_subject
		graphical_culture = event_target:chosen_subject
		city_level = event_target:chosen_subject.capital_scope
		room = event_target:chosen_subject.ruler
	}

	desc = {
		text = veru.4000.loyal.desc
		trigger = {
			event_target:chosen_subject = { is_loyal_to = prev }
		}
	}

	desc = {
		text = veru.4000.disloyal.desc
		trigger = {
			event_target:chosen_subject = { is_disloyal_to = prev }
		}
	}

	# Back
	option = { name = veru.back }

	# Transform into Dictatorial
	option = {
		name = veru.4000.dictatorial
		trigger = {
			event_target:chosen_subject = { NOT = { has_authority = auth_dictatorial } }
		}
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		add_resource = { influence = -150 }
		hidden_effect = {
			get_ethics_check_egal_auth = yes
			event_target:chosen_subject = {
				change_government = {
					authority = auth_dictatorial
					remove_invalid_civics = yes
					cooldown = no
				}
			}
			get_intervention_effect_gov = yes
		}
	}

	# Transform into Imperial
	option = {
		name = veru.4000.imperial
		trigger = {
			event_target:chosen_subject = { NOT = { has_authority = auth_imperial } }
		}
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		add_resource = { influence = -150 }
		hidden_effect = {
			event_target:chosen_subject = {
				get_ethics_check_egal_auth = yes
				change_government = {
					authority = auth_imperial
					remove_invalid_civics = yes
					cooldown = no
				}
			}
			get_intervention_effect_gov = yes
		}
	}

	# Transform into Oligarchic
	option = {
		name = veru.4000.oligarchic
		trigger = {
			event_target:chosen_subject = { NOT = { has_authority = auth_oligarchic } }
		}
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		add_resource = { influence = -150 }
		hidden_effect = {
			event_target:chosen_subject = {
				get_ethics_check_fan = yes
				change_government = {
					authority = auth_oligarchic
					remove_invalid_civics = yes
					cooldown = no
				}
			}
			get_intervention_effect_gov = yes
		}
	}

	# Transform into Democratic Dictatorship (More Authorities)
	option = {
		name = veru.4000.democratic_dictatorship
		trigger = {
			has_global_flag = gf_moreauthorities_activated
			event_target:chosen_subject = { NOT = { has_authority = auth_democratic_dictatorship } }
		}
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		add_resource = { influence = -150 }
		hidden_effect = {
			event_target:chosen_subject = {
				get_ethics_check_fan = yes
				change_government = {
					authority = auth_democratic_dictatorship
					remove_invalid_civics = yes
					cooldown = no
				}
			}
			get_intervention_effect_gov = yes
		}
	}

	# Transform into Democratic
	option = {
		name = veru.4000.democratic
		trigger = {
			event_target:chosen_subject = { NOT = { has_authority = auth_democratic } }
		}
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		add_resource = { influence = -150 }
		hidden_effect = {
			event_target:chosen_subject = {
				get_ethics_check_auth_egal = yes
				change_government = {
					authority = auth_democratic
					remove_invalid_civics = yes
					cooldown = no
				}
			}
			get_intervention_effect_gov = yes
		}
	}

	# Transform into Single Term Democratic (More Authorities)
	option = {
		name = veru.4000.strict_democratic
		trigger = {
			has_global_flag = gf_moreauthorities_activated
			event_target:chosen_subject = { NOT = { has_authority = auth_strict_democratic } }
		}
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		add_resource = { influence = -150 }
		hidden_effect = {
			event_target:chosen_subject = {
				get_ethics_check_auth_egal = yes
				change_government = {
					authority = auth_strict_democratic
					remove_invalid_civics = yes
					cooldown = no
				}
			}
			get_intervention_effect_gov = yes
		}
	}

	# Transform into Direct Democratic (Ethics and Civics)
	option = {
		name = veru.4000.direct_democratic
		trigger = {
			has_global_flag = cultural_overhaul_active
			event_target:chosen_subject = { NOT = { has_authority = auth_direct_democratic } }
		}
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		add_resource = { influence = -150 }
		hidden_effect = {
			event_target:chosen_subject = {
				get_ethics_check_auth_egal = yes
				change_government = {
					authority = auth_direct_democratic
					remove_invalid_civics = yes
					cooldown = no
				}
			}
			get_intervention_effect_gov = yes
		}
	}

	# Transform into Corporate
	option = {
		name = veru.4000.corporate
		trigger = {
			event_target:chosen_subject = { NOT = { has_authority = auth_corporate } }
		}
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		add_resource = { influence = -150 }
		hidden_effect = {
			event_target:chosen_subject = {
				get_ethics_check_fan = yes
				change_government = {
					authority = auth_corporate
					remove_invalid_civics = yes
					cooldown = no
				}
			}
			get_intervention_effect_gov = yes
		}
	}

	# Transform into Corporate Imperial (More Authorities)
	option = {
		name = veru.4000.corporate_imperial
		trigger = {
			has_global_flag = gf_moreauthorities_activated
			event_target:chosen_subject = { NOT = { has_authority = auth_corporate_imperial } }
		}
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		add_resource = { influence = -150 }
		hidden_effect = {
			event_target:chosen_subject = {
				get_ethics_check_egal_auth = yes
				if = {
					limit = { has_global_flag = cultural_overhaul_active }
					get_ethics_check_soc_cap = yes
				}
				change_government = {
					authority = auth_corporate_imperial
					remove_invalid_civics = yes
					cooldown = no
				}
			}
			get_intervention_effect_gov = yes
		}
	}
}

################

# Install New Leader
country_event = {
	id = veru.5000
	title = veru.3000.name
	location = event_target:chosen_subject
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:chosen_subject.ruler
		planet_background = event_target:chosen_subject
		graphical_culture = event_target:chosen_subject
		city_level = event_target:chosen_subject.capital_scope
		room = event_target:chosen_subject.ruler
	}

	desc = {
		text = veru.5000.loyal.desc
		trigger = {
			event_target:chosen_subject = { is_loyal_to = prev }
		}
	}

	desc = {
		text = veru.5000.disloyal.desc
		trigger = {
			event_target:chosen_subject = { is_disloyal_to = prev }
		}
	}

	# Back
	option = { name = veru.back }

	# Choose one of our Governors
	option = {
		name = veru.5000.governor
		hidden_effect = {
			get_governors = yes
			country_event = { id = veru.5100 }
		}
	}

	# Choose one of our Admirals
	option = {
		name = veru.5000.admiral
		hidden_effect = {
			get_admirals = yes
			country_event = { id = veru.5200 }
		}
	}

	# Choose one of our Generals
	option = {
		name = veru.5000.general
		hidden_effect = {
			get_generals = yes
			country_event = { id = veru.5300 }
		}
	}

	# Choose one of our Scientists
	option = {
		name = veru.5000.scientist
		hidden_effect = {
			get_scientists = yes
			country_event = { id = veru.5400 }
		}
	}
}

# Choose Governor
country_event = {
	id = veru.5100
	title = veru.3000.name
	location = event_target:chosen_subject
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:chosen_subject.ruler
		planet_background = event_target:chosen_subject
		graphical_culture = event_target:chosen_subject
		city_level = event_target:chosen_subject.capital_scope
		room = event_target:chosen_subject.ruler
	}

	desc = {
		text = veru.5000.loyal.desc
		trigger = {
			event_target:chosen_subject = { is_loyal_to = prev }
		}
	}

	desc = {
		text = veru.5000.disloyal.desc
		trigger = {
			event_target:chosen_subject = { is_disloyal_to = prev }
		}
	}

	# Back
	option = { name = veru.back }

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.governor_leader_1
		trigger = { check_variable = { which = total_governors value >= 1 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:governor_leader_1
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:governor_leader_1 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.governor_leader_2
		trigger = { check_variable = { which = total_governors value >= 2 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:governor_leader_2
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:governor_leader_2 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.governor_leader_3
		trigger = { check_variable = { which = total_governors value >= 3 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:governor_leader_3
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:governor_leader_3 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.governor_leader_4
		trigger = { check_variable = { which = total_governors value >= 4 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:governor_leader_4
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:governor_leader_4 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.governor_leader_5
		trigger = { check_variable = { which = total_governors value >= 5 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:governor_leader_5
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:governor_leader_5 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.governor_leader_6
		trigger = { check_variable = { which = total_governors value >= 6 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:governor_leader_6
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:governor_leader_6 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.governor_leader_7
		trigger = { check_variable = { which = total_governors value >= 7 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:governor_leader_7
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:governor_leader_7 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.governor_leader_8
		trigger = { check_variable = { which = total_governors value >= 8 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:governor_leader_8
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:governor_leader_8 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.governor_leader_9
		trigger = { check_variable = { which = total_governors value >= 9 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:governor_leader_9
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:governor_leader_9 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.governor_leader_10
		trigger = { check_variable = { which = total_governors value >= 10 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:governor_leader_10
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:governor_leader_10 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Choose Admiral
country_event = {
	id = veru.5200
	title = veru.3000.name
	location = event_target:chosen_subject
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:chosen_subject.ruler
		planet_background = event_target:chosen_subject
		graphical_culture = event_target:chosen_subject
		city_level = event_target:chosen_subject.capital_scope
		room = event_target:chosen_subject.ruler
	}

	desc = {
		text = veru.5000.loyal.desc
		trigger = {
			event_target:chosen_subject = { is_loyal_to = prev }
		}
	}

	desc = {
		text = veru.5000.disloyal.desc
		trigger = {
			event_target:chosen_subject = { is_disloyal_to = prev }
		}
	}

	# Back
	option = { name = veru.back }

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.admiral_leader_1
		trigger = { check_variable = { which = total_admirals value >= 1 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:admiral_leader_1
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:admiral_leader_1 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.admiral_leader_2
		trigger = { check_variable = { which = total_admirals value >= 2 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:admiral_leader_2
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:admiral_leader_2 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.admiral_leader_3
		trigger = { check_variable = { which = total_admirals value >= 3 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:admiral_leader_3
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:admiral_leader_3 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.admiral_leader_4
		trigger = { check_variable = { which = total_admirals value >= 4 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:admiral_leader_4
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:admiral_leader_4 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.admiral_leader_5
		trigger = { check_variable = { which = total_admirals value >= 5 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:admiral_leader_5
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:admiral_leader_5 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.admiral_leader_6
		trigger = { check_variable = { which = total_admirals value >= 6 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:admiral_leader_6
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:admiral_leader_6 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.admiral_leader_7
		trigger = { check_variable = { which = total_admirals value >= 7 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:admiral_leader_7
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:admiral_leader_7 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.admiral_leader_8
		trigger = { check_variable = { which = total_admirals value >= 8 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:admiral_leader_8
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:admiral_leader_8 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.admiral_leader_9
		trigger = { check_variable = { which = total_admirals value >= 9 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:admiral_leader_9
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:admiral_leader_9 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.admiral_leader_10
		trigger = { check_variable = { which = total_admirals value >= 10 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:admiral_leader_10
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:admiral_leader_10 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Choose General
country_event = {
	id = veru.5300
	title = veru.3000.name
	location = event_target:chosen_subject
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:chosen_subject.ruler
		planet_background = event_target:chosen_subject
		graphical_culture = event_target:chosen_subject
		city_level = event_target:chosen_subject.capital_scope
		room = event_target:chosen_subject.ruler
	}

	desc = {
		text = veru.5000.loyal.desc
		trigger = {
			event_target:chosen_subject = { is_loyal_to = prev }
		}
	}

	desc = {
		text = veru.5000.disloyal.desc
		trigger = {
			event_target:chosen_subject = { is_disloyal_to = prev }
		}
	}

	# Back
	option = { name = veru.back }

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.general_leader_1
		trigger = { check_variable = { which = total_generals value >= 1 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:general_leader_1
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:general_leader_1 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.general_leader_2
		trigger = { check_variable = { which = total_generals value >= 2 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:general_leader_2
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:general_leader_2 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.general_leader_3
		trigger = { check_variable = { which = total_generals value >= 3 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:general_leader_3
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:general_leader_3 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.general_leader_4
		trigger = { check_variable = { which = total_generals value >= 4 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:general_leader_4
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:general_leader_4 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.general_leader_5
		trigger = { check_variable = { which = total_generals value >= 5 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:general_leader_5
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:general_leader_5 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.general_leader_6
		trigger = { check_variable = { which = total_generals value >= 6 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:general_leader_6
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:general_leader_6 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.general_leader_7
		trigger = { check_variable = { which = total_generals value >= 7 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:general_leader_7
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:general_leader_7 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.general_leader_8
		trigger = { check_variable = { which = total_generals value >= 8 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:general_leader_8
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:general_leader_8 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.general_leader_9
		trigger = { check_variable = { which = total_generals value >= 9 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:general_leader_9
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:general_leader_9 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.general_leader_10
		trigger = { check_variable = { which = total_generals value >= 10 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:general_leader_10
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:general_leader_10 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Choose Scientist
country_event = {
	id = veru.5400
	title = veru.3000.name
	location = event_target:chosen_subject
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:chosen_subject.ruler
		planet_background = event_target:chosen_subject
		graphical_culture = event_target:chosen_subject
		city_level = event_target:chosen_subject.capital_scope
		room = event_target:chosen_subject.ruler
	}

	desc = {
		text = veru.5000.loyal.desc
		trigger = {
			event_target:chosen_subject = { is_loyal_to = prev }
		}
	}

	desc = {
		text = veru.5000.disloyal.desc
		trigger = {
			event_target:chosen_subject = { is_disloyal_to = prev }
		}
	}

	# Back
	option = { name = veru.back }

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.scientist_leader_1
		trigger = { check_variable = { which = total_scientists value >= 1 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:scientist_leader_1
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:scientist_leader_1 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.scientist_leader_2
		trigger = { check_variable = { which = total_scientists value >= 2 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:scientist_leader_2
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:scientist_leader_2 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.scientist_leader_3
		trigger = { check_variable = { which = total_scientists value >= 3 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:scientist_leader_3
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:scientist_leader_3 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.scientist_leader_4
		trigger = { check_variable = { which = total_scientists value >= 4 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:scientist_leader_4
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:scientist_leader_4 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.scientist_leader_5
		trigger = { check_variable = { which = total_scientists value >= 5 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:scientist_leader_5
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:scientist_leader_5 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.scientist_leader_6
		trigger = { check_variable = { which = total_scientists value >= 6 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:scientist_leader_6
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:scientist_leader_6 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.scientist_leader_7
		trigger = { check_variable = { which = total_scientists value >= 7 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:scientist_leader_7
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:scientist_leader_7 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.scientist_leader_8
		trigger = { check_variable = { which = total_scientists value >= 8 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:scientist_leader_8
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:scientist_leader_8 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.scientist_leader_9
		trigger = { check_variable = { which = total_scientists value >= 9 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:scientist_leader_9
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:scientist_leader_9 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		add_resource = { influence = -150 }
		name = veru.5000.scientist_leader_10
		trigger = { check_variable = { which = total_scientists value >= 10 } }
		allow = {
			custom_tooltip = {
				fail_text = influencefail_text_veru_300
				has_resource = { type = influence amount >= 300 }
			}
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:scientist_leader_10
				class = ruler
				effect = {
					save_event_target_as = new_vassal_leader_cloned
					exile_leader_as = new_vassal_leader_cloned
				}
			}
			event_target:chosen_subject = {
				set_leader = event_target:new_vassal_leader_cloned
			}
			event_target:scientist_leader_10 = {
				kill_leader = { show_notification = no }
			}
			get_new_autocratic_gov = yes
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Dead Installed Leader, remove grateful modifier
country_event = {
	id = veru.5500
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		from = {
			leader_class = ruler
			has_leader_flag = grateful_installed_vassal_leader_@this
		}
	}

	immediate = {

		from = {
			save_global_event_target_as = dead_grateful_leader
		}

		random_country = {
			limit = {
				has_country_flag = vassal_installer_country_@event_target:dead_grateful_leader
			}
			remove_country_flag = vassal_installer_country_@event_target:dead_grateful_leader
			save_event_target_as = remove_grateful_modifier_country
		}

		clear_global_event_target = dead_grateful_leader

		remove_opinion_modifier = {
			who = event_target:remove_grateful_modifier_country
			modifier = opinion_installed_as_vassal_leader
		}
	}
}

################